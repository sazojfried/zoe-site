<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Zoe Friedman — Projects</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="Projects page for Zoe Friedman, featuring a simple Flappy Bird style game."
  />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/favicon.png" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <style>
    :root {
      --red: #b31b1b;
      --red-soft: #f97373;
      --bg-page: #f4f5f7;
      --bg-elevated: #ffffff;
      --bg-card: #ffffff;
      --border-subtle: #e2e4ea;
      --text-main: #141414;
      --text-muted: #666a73;
      --shadow-soft: 0 18px 40px rgba(15, 23, 42, 0.14);
      
      /* High-contrast pipes + ground */
      --pipe-light: #22c55e; /* bright green */
      --pipe-dark: #16a34a;
      --ground-light: #d97706; /* strong golden orange */
      --ground-dark: #a16207;
    }

    body.theme-dark {
      --bg-page: #050509;
      --bg-elevated: rgba(5, 5, 9, 0.96);
      --bg-card: #11121a;
      --border-subtle: #26283a;
      --text-main: #f9fafb;
      --text-muted: #9ca3b4;
      --shadow-soft: 0 22px 50px rgba(0, 0, 0, 0.7);

      --pipe-light: #0ea5e9; /* bright blue */
      --pipe-dark: #0369a1;
      --ground-light: #facc15; /* bright yellow */
      --ground-dark: #ca8a04;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
      background: var(--bg-page);
      color: var(--text-main);
      transition: background-color 0.25s ease, color 0.25s ease;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* NAV */
    header {
      position: sticky;
      top: 0;
      z-index: 20;
      background: var(--bg-elevated);
      border-bottom: 1px solid var(--border-subtle);
      backdrop-filter: blur(12px);
      transition: background-color 0.25s ease, border-color 0.25s ease;
    }

    .nav-inner {
      max-width: 1040px;
      margin: 0 auto;
      padding: 10px 18px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .logo-block {
      font-size: 13px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      font-weight: 600;
      line-height: 1.2;
    }

    .logo-name {
      font-size: 18px;
      letter-spacing: 0.18em;
    }

    .logo-sub {
      font-size: 11px;
      color: var(--text-muted);
      font-weight: 400;
    }

    .nav-links {
      display: flex;
      gap: 22px;
      font-size: 13px;
      align-items: center;
    }

    .nav-links a {
      padding-bottom: 4px;
      color: var(--text-muted);
      transition: color 0.2s ease;
      position: relative;
    }

    .nav-links a.active,
    .nav-links a:hover {
      color: var(--red-soft);
    }

    .nav-links a.active::after,
    .nav-links a:hover::after {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 2px;
      background: var(--red-soft);
      border-radius: 999px;
    }

    /* Theme + Mobile Nav */
    .theme-toggle,
    .nav-toggle {
      cursor: pointer;
    }

    @media (max-width: 780px) {
      .nav-links {
        display: none;
      }
      body.nav-open .nav-links {
        display: flex;
        flex-direction: column;
      }
    }

    /* PAGE LAYOUT */
    .page {
      max-width: 1040px;
      margin: 0 auto;
      padding: 24px 18px 40px;
    }

    .card {
      background: var(--bg-card);
      border-radius: 18px;
      padding: 22px;
      border: 1px solid var(--border-subtle);
      box-shadow: var(--shadow-soft);
    }

    .section-title span {
      border-bottom: 2px solid var(--red-soft);
      padding-bottom: 3px;
      font-size: 16px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--red-soft);
    }

    /* GAME AREA */
    .game-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
    }

    .game-container {
      width: 100%;
      max-width: 420px;
      aspect-ratio: 3 / 4;
      border-radius: 18px;
      border: 1px solid var(--border-subtle);
      overflow: hidden;
      background: transparent;
    }

    .game-score {
      font-size: 14px;
      font-weight: 600;
    }

    .more-coming {
      margin-top: 28px;
      text-align: center;
      font-size: 14px;
      color: var(--text-muted);
      font-style: italic;
    }

    footer {
      text-align: center;
      padding: 16px;
      font-size: 11px;
      color: var(--text-muted);
      border-top: 1px solid var(--border-subtle);
    }
  </style>
</head>

<body class="theme-dark">
  <header>
    <div class="nav-inner">
      <div class="logo-block">
        <div class="logo-name">ZOE FRIEDMAN</div>
        <div class="logo-sub">Economics · Softball · Community</div>
      </div>

      <nav class="nav-links">
        <a href="index.html#home">Home</a>
        <a href="index.html#stats">Stats</a>
        <a href="index.html#experience">Experience</a>
        <a href="index.html#contact">Contact</a>
        <a href="gallery.html">Gallery</a>
        <a href="projects.html" class="active">Projects</a>
      </nav>

      <button id="theme-toggle" class="theme-toggle">Light mode</button>

      <button id="nav-toggle" class="nav-toggle">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>

  <main class="page">
    <div class="card">
      <div class="section-title"><span>Flappy Zoe</span></div>

      <div class="game-wrapper">
        <div class="game-container">
          <canvas id="game-canvas"></canvas>
        </div>

        <div class="game-score" id="score-display">Score: 0 | Best: 0</div>

        <div class="game-instructions">
          Click / tap / space to flap.  
        </div>
      </div>

      <div class="more-coming">More projects coming soon...</div>
    </div>
  </main>

  <footer>© <span id="year"></span> Zoe Friedman. All rights reserved.</footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const body = document.body;
    const toggleBtn = document.getElementById("theme-toggle");

    toggleBtn.addEventListener("click", () => {
      body.classList.toggle("theme-dark");
      toggleBtn.textContent = body.classList.contains("theme-dark")
        ? "Light mode"
        : "Dark mode";
    });

    // GAME --------------------------------------------------
    (function () {
      const canvas = document.getElementById("game-canvas");
      const ctx = canvas.getContext("2d");
      const scoreDisplay = document.getElementById("score-display");

      const WIDTH = 300;
      const HEIGHT = 400;
      canvas.width = WIDTH;
      canvas.height = HEIGHT;

      // Bird
      const birdRadius = 12;
      let birdX = WIDTH * 0.25;
      let birdY = HEIGHT / 2;
      let birdVel = 0;
      const gravity = 0.35;
      const flapStrength = -6;

      // Zoe face
      const birdImg = new Image();
      let imgLoaded = false;
      birdImg.src = "images/z1.png";
      birdImg.onload = () => (imgLoaded = true);

      // Pipes
      const pipeWidth = 50;
      const pipeGap = 115;
      const baseSpeed = 2.0;
      const maxExtraSpeed = 1.2;

      let pipes = [];
      let score = 0;
      let best = 0;
      let frame = 0;
      let started = false;
      let gameOver = false;

      // Scrolling ground
      let groundOffset = 0;
      const groundBaseSpeed = 0.7;

      function currentSpeed() {
        return baseSpeed + Math.min(score * 0.08, maxExtraSpeed);
      }

      function reset() {
        birdY = HEIGHT / 2;
        birdVel = 0;
        pipes = [];
        score = 0;
        frame = 0;
        started = false;
        gameOver = false;
        updateScore();
      }

      function updateScore() {
        scoreDisplay.textContent = `Score: ${score} | Best: ${best}`;
      }

      function spawnPipe() {
        const minTop = 40;
        const maxTop = HEIGHT - pipeGap - 40;
        const top = minTop + Math.random() * (maxTop - minTop);
        pipes.push({ x: WIDTH + pipeWidth, top, passed: false });
      }

      function flap() {
        if (!started) started = true;
        if (gameOver) return reset();
        birdVel = flapStrength;
      }

      canvas.addEventListener("click", flap);
      window.addEventListener("keydown", (e) => {
        if (e.code === "Space" || e.code === "ArrowUp") {
          e.preventDefault();
          flap();
        }
      });

      function drawBackground() {
        const isDark = body.classList.contains("theme-dark");

        // sky
        const gradient = ctx.createLinearGradient(0, 0, 0, HEIGHT);
        gradient.addColorStop(0, isDark ? "#020617" : "#87ceeb");
        gradient.addColorStop(1, isDark ? "#0b1120" : "#e0f6ff");
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, WIDTH, HEIGHT);

        // scrolling ground
        const groundColor = isDark ? "var(--ground-dark)" : "var(--ground-light)";
        ctx.fillStyle = groundColor;

        groundOffset -= groundBaseSpeed;
        if (groundOffset < -WIDTH) groundOffset = 0;

        ctx.fillRect(groundOffset, HEIGHT - 25, WIDTH, 25);
        ctx.fillRect(groundOffset + WIDTH, HEIGHT - 25, WIDTH, 25);
      }

      function drawPipes() {
        const light = getComputedStyle(document.documentElement)
          .getPropertyValue("--pipe-light");
        const dark = getComputedStyle(document.documentElement)
          .getPropertyValue("--pipe-dark");

        for (const p of pipes) {
          const x = p.x;

          ctx.fillStyle = light;
          ctx.fillRect(x, 0, pipeWidth, p.top);

          ctx.fillStyle = dark;
          ctx.fillRect(x, 0, pipeWidth, 20);

          ctx.fillStyle = light;
          ctx.fillRect(x, p.top + pipeGap, pipeWidth, HEIGHT);

          ctx.fillStyle = dark;
          ctx.fillRect(x, p.top + pipeGap, pipeWidth, 20);
        }
      }

      function drawBird() {
        ctx.save();
        ctx.translate(birdX, birdY);
        ctx.rotate(Math.max(-0.5, Math.min(0.5, birdVel / 10)));

        if (imgLoaded) {
          ctx.beginPath();
          ctx.arc(0, 0, birdRadius, 0, Math.PI * 2);
          ctx.clip();
          ctx.drawImage(birdImg, -birdRadius, -birdRadius, birdRadius * 2, birdRadius * 2);
        } else {
          ctx.fillStyle = "#b31b1b";
          ctx.beginPath();
          ctx.arc(0, 0, birdRadius, 0, Math.PI * 2);
          ctx.fill();
        }
        ctx.restore();
      }

      function update() {
        if (!started) {
          draw();
          return requestAnimationFrame(update);
        }

        if (!gameOver) {
          frame++;
          birdVel += gravity;
          birdY += birdVel;

          if (frame % 110 === 0) spawnPipe();

          const speed = currentSpeed();
          for (const p of pipes) p.x -= speed;
          pipes = pipes.filter((p) => p.x + pipeWidth > 0);

          // Collisions
          if (birdY + birdRadius >= HEIGHT || birdY - birdRadius <= 0) {
            gameOver = true;
          }

          for (const p of pipes) {
            const hitX =
              birdX + birdRadius > p.x &&
              birdX - birdRadius < p.x + pipeWidth;

            const hitYTop = birdY - birdRadius < p.top;
            const hitYBot = birdY + birdRadius > p.top + pipeGap;

            if (hitX && (hitYTop || hitYBot)) gameOver = true;

            if (!p.passed && p.x + pipeWidth < birdX - birdRadius) {
              p.passed = true;
              score++;
              if (score > best) best = score;
              updateScore();
            }
          }
        }

        draw();
        requestAnimationFrame(update);
      }

      function draw() {
        drawBackground();
        drawPipes();
        drawBird();

        ctx.fillStyle = body.classList.contains("theme-dark")
          ? "rgba(255,255,255,0.7)"
          : "rgba(0,0,0,0.4)";
        ctx.font = "12px Inter";
        ctx.textAlign = "center";

        if (!started && !gameOver) {
          ctx.fillText("Click / tap / space to start", WIDTH / 2, HEIGHT / 2 - 10);
        }
        if (gameOver) {
          ctx.fillText("Game over — click / tap / space to restart", WIDTH / 2, HEIGHT / 2);
        }
      }

      reset();
      update();
    })();
  </script>
</body>
</html>
